<section class="pd" *ngIf="pet() as p; else notFound">
  <div class="pd__crumbs">
    <a routerLink="/pets">Pets</a>
    <span>‚Ä∫</span>
    <span>Detalhes do Pet</span>
  </div>

  <div class="pd__grid">
    <!-- COL ESQUERDA -->
    <mat-card class="pd__left">
      <div class="pd__imgWrap">
        <img class="pd__img" [src]="p.image" [alt]="p.name" />
        <span class="pd__chip" [class.pd__chip--adopted]="p.status === 'ADOTADO'">
          <mat-icon>{{ p.status === 'ADOTADO' ? 'verified' : 'check_circle' }}</mat-icon>
          {{ p.status === 'ADOTADO' ? 'Adotado' : 'Dispon√≠vel' }}
        </span>
      </div>

      <h2 class="pd__name">{{ p.name }}</h2>
      <p class="pd__sub">{{ p.species }} ‚Ä¢ {{ p.breed }}</p>

      <div class="pd__info">
        <div><mat-icon>cake</mat-icon> {{ p.age }}</div>
        <div><mat-icon>{{ p.gender === 'Macho' ? 'male' : 'female' }}</mat-icon> {{ p.gender }}</div>
        <div><mat-icon>pets</mat-icon> Porte {{ p.size }}</div>
      </div>

      <mat-divider></mat-divider>

      <div class="pd__tags">
        <mat-chip-set>
          <mat-chip>{{ p.species }}</mat-chip>
          <mat-chip>{{ p.breed }}</mat-chip>
          <mat-chip>Porte {{ p.size }}</mat-chip>
          <mat-chip>{{ p.gender }}</mat-chip>
        </mat-chip-set>
      </div>

      <!-- A√ß√µes r√°pidas (admin) - deixamos escondido por enquanto -->
      <div class="pd__admin" *ngIf="false">
        <h3>A√ß√µes R√°pidas</h3>
        <button mat-stroked-button>
          <mat-icon>edit</mat-icon>
          Editar Dados Cadastrais
        </button>
        <button mat-stroked-button color="warn">
          <mat-icon>delete</mat-icon>
          Deletar Pet
        </button>
      </div>
    </mat-card>

    <!-- COL DIREITA -->
    <mat-card class="pd__right">
      <div class="pd__tabs">
        <button class="pd__tab pd__tab--active">
          <mat-icon>favorite</mat-icon>
          Ado√ß√£o
        </button>
        <button class="pd__tab" disabled>
          <mat-icon>healing</mat-icon>
          Hist√≥rico
        </button>
        <button class="pd__tab" disabled>
          <mat-icon>vaccines</mat-icon>
          Cuidados
        </button>
      </div>

      <div class="pd__statusCard">
        <h3>Status Atual</h3>
        <p class="pd__muted">
          Esse pet est√° {{ p.status === 'ADOTADO' ? 'adotado' : 'dispon√≠vel para ado√ß√£o' }}.
        </p>

        <div class="pd__statusRow">
          <div class="pd__badge" [class.pd__badge--ok]="p.status === 'DISPONIVEL'">
            <mat-icon>{{ p.status === 'ADOTADO' ? 'verified' : 'check_circle' }}</mat-icon>
            <span>{{ p.status === 'ADOTADO' ? 'Adotado' : 'Dispon√≠vel para Ado√ß√£o' }}</span>
          </div>

          <div class="pd__tiny">
            <div><span>Tempo no abrigo</span><strong>‚Äî</strong></div>
            <div><span>√öltima atualiza√ß√£o</span><strong>‚Äî</strong></div>
          </div>
        </div>

        <div class="pd__note">
          <mat-icon>info</mat-icon>
          <div>
            <strong>Informa√ß√µes importantes</strong>
            <p>Ao adotar, voc√™ se compromete com os cuidados e bem-estar do pet.</p>
          </div>
        </div>
      </div>

      <button
        mat-flat-button
        color="primary"
        class="pd__cta"
        [disabled]="p.status === 'ADOTADO'"
        [routerLink]="['/pets', p.id, 'adotar']"
      >
        <mat-icon>favorite</mat-icon>
        Adotar {{ p.name }}
      </button>
    </mat-card>
  </div>
</section>

<ng-template #notFound>
  <section class="pd pd--empty">
    <h2>Pet n√£o encontrado üòø</h2>
    <button mat-stroked-button routerLink="/pets">
      <mat-icon>arrow_back</mat-icon>
      Voltar para Pets
    </button>
  </section>
</ng-template>
